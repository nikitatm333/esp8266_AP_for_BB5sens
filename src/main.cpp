/**
 * @mainpage ESP8266 Web Server Manual
 * @brief –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ —Å–∏—Å—Ç–µ–º–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π –ê–ß–¢ –Ω–∞ –±–∞–∑–µ ESP8266.
 *
 * @section overview –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã
 * –î–∞–Ω–Ω–∞—è –ø—Ä–æ—à–∏–≤–∫–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π –ê–±—Å–æ–ª—é—Ç–Ω–æ –ß–µ—Ä–Ω–æ–≥–æ –¢–µ–ª–∞ (–ê–ß–¢) –∏ –≤–∫–ª—é—á–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –±–∞–∑–µ ESP8266.
 * –ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –ø–∏—Ç–∞–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∑–∞–¥–∞–Ω–Ω–æ–π Wi-Fi —Å–µ—Ç–∏ (—Ä–µ–∂–∏–º STA). –ï—Å–ª–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 10 —Å–µ–∫—É–Ω–¥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç,
 * ESP8266 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Ä–µ–∂–∏–º —Ç–æ—á–∫–∏ –¥–æ—Å—Ç—É–ø–∞ (AP), —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.
 *
 * @section features –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
 * - **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π –ê–ß–¢:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Ç—Ä–µ–±—É–µ–º—É—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
 * - **–ò–Ω–¥–∏–∫–∞—Ü–∏—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —É—Å—Ç–∞–≤–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã:** –ù–∞ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
 *   - –ó–µ–ª–µ–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä ‚Äì —É—Å—Ç–∞–≤–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞.
 *   - –û—Ä–∞–Ω–∂–µ–≤—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä ‚Äì —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –µ—â–µ –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞.
 * - **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ —ç–Ω–µ—Ä–≥–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –ø–∞–º—è—Ç–∏:** –ü–æ—Å–ª–µ–¥–Ω—è—è –∫–æ–º–∞–Ω–¥–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–æ—á–∫–∏ –¥–æ—Å—Ç—É–ø–∞ (AP) —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ EEPROM.
 * - **–°–±—Ä–æ—Å –Ω–∞—Å—Ç—Ä–æ–µ–∫:** –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —É–¥–µ—Ä–∂–∞–Ω–∏–µ –¥–≤—É—Ö –∫–Ω–æ–ø–æ–∫ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –≤ —Ç–µ—á–µ–Ω–∏–µ 10 —Å–µ–∫—É–Ω–¥ –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç —Å–±—Ä–æ—Å EEPROM.
 *   –ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–º–∞–Ω–¥—ã RESET –Ω–∞ ESP8266 –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–∫–ª—é—á–∏—Ç—å –∏ –≤–Ω–æ–≤—å –≤–∫–ª—é—á–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ.
 * - **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ—á–∫–∏ –¥–æ—Å—Ç—É–ø–∞ (AP):** –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–æ—á–∫–∏ –¥–æ—Å—Ç—É–ø–∞ (SSID –∏ –ø–∞—Ä–æ–ª—å).
 * - **–í—ã–≤–æ–¥ –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:** –ù–∞ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ:
 *   - –ü–æ–∫–∞–∑–∞–Ω–∏—è 5 —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö –¥–∞—Ç—á–∏–∫–æ–≤.
 *   - –ó–Ω–∞—á–µ–Ω–∏—è, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –æ—Ç PID-—Ä–µ–≥—É–ª—è—Ç–æ—Ä–æ–≤.
 *   - –ì—Ä–∞—Ñ–∏–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –æ—Ç –≤—Ä–µ–º–µ–Ω–∏.
 *
 * @section startup –ü–æ—Ä—è–¥–æ–∫ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –ø–∏—Ç–∞–Ω–∏—è
 * 1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:** –ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –ø–∏—Ç–∞–Ω–∏—è ESP8266 –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ —Ä–µ–∂–∏–º–µ —Å—Ç–∞–Ω—Ü–∏–∏ (STA).
 * 2. **–ü–æ–ø—ã—Ç–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Wi-Fi:** –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∑–∞–¥–∞–Ω–Ω–æ–π —Å–µ—Ç–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 10 —Å–µ–∫—É–Ω–¥.
 * 3. **–ü–µ—Ä–µ—Ö–æ–¥ –≤ —Ä–µ–∂–∏–º AP:** –ï—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ —É–¥–∞–ª–æ—Å—å, ESP8266 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ä–µ–∂–∏–º —Ç–æ—á–∫–∏ –¥–æ—Å—Ç—É–ø–∞ (AP).
 * 4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:** –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ç–æ—á–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫.
 *    –í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è SSID –∏ –ø–∞—Ä–æ–ª—è. –ü–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–æ—Ç–∫–ª—é—á–∏—Ç–µ –∏ –≤–∫–ª—é—á–∏—Ç–µ –ø–∏—Ç–∞–Ω–∏–µ).
 *
 * @section recovery –†–µ–∂–∏–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
 * –ï—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Ç–µ–∫—É—â–µ–π —Å–µ—Ç–∏ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω –º–µ—Ö–∞–Ω–∏–∑–º —Å–±—Ä–æ—Å–∞ EEPROM:
 * - –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —É–¥–µ—Ä–∂–∞–Ω–∏–µ –¥–≤—É—Ö –∫–Ω–æ–ø–æ–∫ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –≤ —Ç–µ—á–µ–Ω–∏–µ 10 —Å–µ–∫—É–Ω–¥ –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç —Å–±—Ä–æ—Å —ç–Ω–µ—Ä–≥–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –ø–∞–º—è—Ç–∏.
 * - –ü–æ—Å–ª–µ —Å–±—Ä–æ—Å–∞ ESP8266 –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É RESET, –∏ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å.
 * - –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Å–±—Ä–æ—Å–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ —Å SSID "ESP_RESET" –±–µ–∑ –ø–∞—Ä–æ–ª—è.
 *
 * @section usage –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏
 * - **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:** –í–∫–ª—é—á–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ. –ï—Å–ª–∏ –æ–Ω–æ —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –∑–∞–¥–∞–Ω–Ω–æ–π —Å–µ—Ç–∏, –µ–≥–æ IP-–∞–¥—Ä–µ—Å –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–º –ø–æ—Ä—Ç—É.
 *   –ï—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∂–∏–º–µ —Ç–æ—á–∫–∏ –¥–æ—Å—Ç—É–ø–∞, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞–ø—Ä—è–º—É—é.
 * - **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π:** –ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç—Ä–µ–±—É–µ–º—É—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É. –°–∏—Å—Ç–µ–º–∞ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —É—Å—Ç–∞–≤–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã.
 * - **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ—á–∫–∏ –¥–æ—Å—Ç—É–ø–∞:** –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ AP. –ü–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
 * - **–°–±—Ä–æ—Å –Ω–∞—Å—Ç—Ä–æ–µ–∫:** –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–±—Ä–æ—Å–∞ —É–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –¥–≤–µ –∫–Ω–æ–ø–∫–∏ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –≤ —Ç–µ—á–µ–Ω–∏–µ 10 —Å–µ–∫—É–Ω–¥.
 *
 * @note –î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π, –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
 * 
 * @file main.cpp
 *   ## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏ ~W
 * - –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ø—Ä–æ–µ–∫—Ç–∞: @ref main.cpp
 * - –û–±—Ä–∞–±–æ—Ç–∫–∞ uart: @ref serial_processing.cpp
 * - –í–µ–± –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏: @ref web_handlers.cpp
 * - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —ç–Ω–µ—Ä–≥–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –ø–∞–º—è—Ç–∏: @ref settings.cpp
 * - –ê–ª–≥–æ—Ä–∏—Ç–º—ã –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –æ—Ç –≤—Ä–µ–º–µ–Ω–∏: @ref graph.cpp
 * - –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã: @ref temp_control.cpp

 * @author tnv
 * @date 13.03.2025
 * 
 * ## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏üîó
 * - –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ø—Ä–æ–µ–∫—Ç–∞: @ref main.cpp
 * - –û–±—Ä–∞–±–æ—Ç–∫–∞ uart: @ref serial_processing.cpp
 * - –í–µ–± –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏: @ref web_handlers.cpp
 * - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —ç–Ω–µ—Ä–≥–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –ø–∞–º—è—Ç–∏: @ref settings.cpp
 * - –ê–ª–≥–æ—Ä–∏—Ç–º—ã –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –æ—Ç –≤—Ä–µ–º–µ–Ω–∏: @ref graph.cpp
 * - –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã: @ref temp_control.cpp
 */

 #include <ESP8266WiFi.h>
 #include <ESP8266WebServer.h>
 #include "../inc/index.h" 
 #include "../inc/graph_page.h"
 #include "../inc/web_handlers.h"
 #include "../inc/settings.h"
 #include "../inc/serial_processing.h"
 #include "../inc/temp_control.h"
 #include "../inc/globals.h"
 #include <EEPROM.h>
 #include <math.h>
 
 // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Wi-Fi
 const char* ssid = "INFRATEST";          ///< SSID —Å–µ—Ç–∏ Wi-Fi.
 const char* password = "^I={test}.1206";  ///< –ü–∞—Ä–æ–ª—å –æ—Ç Wi-Fi.
 
 // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π 80-—ã–π –ø–æ—Ä—Ç –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
 ESP8266WebServer server(80);
 
 /**
  * @brief –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–æ—á–∫–∏ –¥–æ—Å—Ç—É–ø–∞ (AP).
  * 
  * @details –ó–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–æ—á–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –µ—ë, –µ—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Wi-Fi –Ω–µ —É–¥–∞–ª–æ—Å—å.
  * –í —Å–ª—É—á–∞–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –¥–∞–Ω–Ω—ã—Ö SSID –∏–ª–∏ –ø–∞—Ä–æ–ª—è –∑–∞–¥–∞—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
  */
 void startAccessPoint() {
     loadAPSettings();
     
     if (ap_ssid[0] == 0xFF || ap_ssid[0] == '\0') {
         strncpy(ap_ssid, "ESP_AP", sizeof(ap_ssid));
         ap_ssid[sizeof(ap_ssid)-1] = '\0';
         ap_password[0] = '\0';
     }
 
     if (ap_password[0] == '\0' || ap_password[0] == 0xFF) {
         WiFi.softAP(ap_ssid);
     } else {
         WiFi.softAP(ap_ssid, ap_password);
     }
     
     Serial.println("–¢–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∑–∞–ø—É—â–µ–Ω–∞");
 }
 
 /**
  * @brief –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ç–∏ Wi-Fi.
  * 
  * @details –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ä–µ–∂–∏–º —Å—Ç–∞–Ω—Ü–∏–∏ (STA) –∏ –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ç–∏. 
  * –í —Å–ª—É—á–∞–µ –Ω–µ—É–¥–∞—á–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ä–µ–∂–∏–º —Ç–æ—á–∫–∏ –¥–æ—Å—Ç—É–ø–∞ (AP).
  */
 void connectToWiFi() {
     WiFi.mode(WIFI_STA);  // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–µ–∂–∏–º —Å—Ç–∞–Ω—Ü–∏–∏
     WiFi.begin(ssid, password);
     Serial.print("–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Wi-Fi");
 
     unsigned long startAttemptTime = millis(); ///< –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –ø–æ–ø—ã—Ç–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.
     const unsigned long wifiTimeout = 10000;   ///< –¢–∞–π–º-–∞—É—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö (10 —Å–µ–∫—É–Ω–¥).
 
     while (WiFi.status() != WL_CONNECTED && millis() - startAttemptTime < wifiTimeout) {
         delay(500);
         Serial.print(".");
     }
 
     if (WiFi.status() == WL_CONNECTED) {
         Serial.println("\n–ü–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ Wi-Fi");
         Serial.print("IP-–∞–¥—Ä–µ—Å: ");
         Serial.println(WiFi.localIP());
     } else {
         Serial.println("\n–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Wi-Fi. –ó–∞–ø—É—Å–∫ —Ä–µ–∂–∏–º–∞ AP...");
         startAccessPoint(); // –ü–µ—Ä–µ—Ö–æ–¥ –≤ —Ä–µ–∂–∏–º AP
     }
 }
 
 /**
  * @brief –§—É–Ω–∫—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
  * 
  * @details –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø–æ—Ä—Ç, –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Wi-Fi, –∑–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, 
  * –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –±—É—Ñ–µ—Ä –≥—Ä–∞—Ñ–∏–∫–∞ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –≤–µ–±-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏.
  */
 void setup() {
     Serial.begin(115200);
     connectToWiFi(); // –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Wi-Fi
     
     loadSettingsTemp();  ///< –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—É—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É.
     loadLastRecvd();     ///< –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∫–æ–º–∞–Ω–¥—ã –ø–µ—Ä–µ–¥ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ–º –ø–∏—Ç–∞–Ω–∏—è.
     
     // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±—É—Ñ–µ—Ä–∞ –≥—Ä–∞—Ñ–∏–∫–∞ (–Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
     for (int i = 0; i < L; i++) {
         TStorage[i] = 36.0;
     }
     TShead = 0;
     TStail = 0;
 
     // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤–µ–±-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
     initWebHandlers(server);
 
     server.begin();
     Serial.println("–í–µ–±-—Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω");
 }
 
 /** 
  * @brief –ì–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª –ø—Ä–æ–≥—Ä–∞–º–º—ã.
  * 
  * @details –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç HTTP-–∑–∞–ø—Ä–æ—Å—ã, –ø–æ—Å—Ç—É–ø–∞—é—â–∏–µ –Ω–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä, —Å—á–∏—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞
  * –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã.
  */
 void loop() {
     server.handleClient();
     processSerialData();
     updateTargetStatus();  ///< –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã.
 }
 